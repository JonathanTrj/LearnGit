<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>File Input</title>

	<link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="fileinput/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
	<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css" rel="stylesheet">
	<link href="fileinput/themes/explorer-fas/theme.css" media="all" rel="stylesheet" type="text/css"/>
	<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
	
	<!-- 如果你想在HTML文件预览中净化HTML内容则要引入purify.min.js is   它必须在fileinput.min.js之前引入 -->
	<!-- <script src="path/to/js/plugins/purify.min.js" type="text/javascript"></script> -->
	<!-- 主要的 fileinput 插件库 -->
	<script src="fileinput/fileinput.min.js"></script>
	<!-- 如果你想在放大的模态页面中查看文件详细信息需要引入bootstrap.js -->
	<script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<!-- 可选，如果你需要像font awesome 这样的主题，就像下面的代码一样引入它 -->
	<!-- <script src="path/to/js/fa.js"></script> -->
	<!-- 可选，如果你需要转换语言或翻译，就包含这个库 -->
	<!-- <script src="path/to/js/<lang>.js"></script> -->
	<script src="fileinput/themes/fas/theme.js" type="text/javascript"></script>
    <script src="fileinput/themes/explorer-fas/theme.js" type="text/javascript"></script>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div align="center" class="col">
				<div class="py-5 px-4" style="width: 71%;">
					<input id="inputid" type="file" name="uploadfiles[]" class="file-loading" multiple>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
			$("#inputid").fileinput(
				{
					theme: 'fas',
					showUpload: true,
					browseOnZoneClick: true,
					maxFileCount: 0,
					allowedFileExtensions:['txt','csv'],
					uploadUrl:'#',
					
					allowedPreviewTypes:['text'],
					layoutTemplates: {
						actionUpload: '',
						actionZoom: ''
					},
        			preferIconicPreview: true, // 开启用图标替换预览效果
        			preferIconicZoomPreview: true,
					previewFileIconSettings: { // configure your icon file extensions
					    'doc': '<i class="fas fa-file-word"></i>',
					    'xls': '<span class=""><i class="fas fa-file-excel"></i></span>',
					    'ppt': '<i class="fas fa-file-powerpoint"></i>',
					    'pdf': '<i class="fas fa-file-pdf"></i>',
					    'zip': '<i class="fas fa-file-archive"></i>',
					    'code': '<i class="fas fa-file-code"></i>',
					    'mov': '<i class="fas fa-file-video"></i>',
					    'mp3': '<i class="fas fa-file-audio"></i>',
					    'img': '<i class="fas fa-file-image"></i>'
					},
					previewFileExtSettings: {
					    'doc': function(ext) {
					        return ext.match(/(doc|docx)$/i);
					    },
					    'xls': function(ext) {
					        return ext.match(/(txt|ini|csv|xls|xlsx)$/i);
					    },
					    'ppt': function(ext) {
					    	return ext.match(/(ppt|pptx)$/i);
					    },
					    'zip': function(ext) {
					        return ext.match(/(zip|rar|tar|gzip|gz|7z)$/i);
					    },
					    'mov': function(ext) {
					        return ext.match(/(avi|mpg|mkv|mov|mp4|3gp|webm|wmv)$/i);
					    },
					    'mp3': function(ext) {
					        return ext.match(/(mp3|wav)$/i);
					    },
					    'code': function(ext) {
					        return ext.match(/(java|php|js|css|htm|html|py|cpp|h|spyc)$/i);
					    },
					    'img': function(ext) {
					    	return ext.match(/(jpg|png)$/i);
					    }
					}
				}
			).on('fileuploaderror', function(event, data, msg) {
  				var form = data.form;
  				var files = data.files;
  				var extra = data.extra;
      			var response = data.response;
      			var reader = data.reader;
  				console.log(files);
 				// 获取信息
 				alert(msg);
			});
	</script>
</body>
</html>